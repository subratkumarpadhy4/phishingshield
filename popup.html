<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oculus</title>
    <link rel="stylesheet" href="css/popup.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="brand">
                <div class="logo-glow">
                    <img src="images/icon48.png" alt="Logo">
                </div>
                <span>Oculus</span>
            </div>
            <div class="header-actions" id="auth-section">
                <!-- Login Button -->
                <a href="login.html" target="_blank" id="btn-login" class="btn-micro btn-glow">Login</a>

                <!-- Profile Link (Hidden by default) -->
                <a href="dashboard.html" target="_blank" id="user-profile-link" class="profile-link"
                    style="display: none;">
                    <div class="avatar-circle">
                        <span id="user-initial">U</span>
                    </div>
                </a>
            </div>
        </header>

        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" id="tab-dashboard">Dashboard</div>
            <div class="tab" id="tab-dojo">Training Dojo</div>
        </div>

        <!-- VIEW: DASHBOARD -->
        <div id="view-dashboard" class="content-area">

            <!-- Incognito Warning (Hidden by default) -->
            <div id="incognito-warning" class="warning-banner"
                style="display: none; background: #fff3cd; color: #856404; padding: 12px; margin: 0 0 15px 0; border-radius: 8px; font-size: 13px; border: 1px solid #ffeeba;">
                <div style="font-weight: 600; margin-bottom: 4px;">‚ö†Ô∏è Incognito Not Protected</div>
                <div style="margin-bottom: 8px;">Enable "Allow in Incognito" to stay safe.</div>
                <button id="btn-enable-incognito"
                    style="background: #856404; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; width: 100%;">Enable
                    Now</button>
            </div>

            <!-- Hero Status -->
            <div class="hero-section">
                <div class="shield-container secure" id="status-icon">
                    <div class="pulse-ring"></div>
                    <img src="images/image.png" alt="Status Shield" class="hero-logo">
                </div>
                <div class="status-info">
                    <div class="status-title" id="status-text">System Secure</div>
                    <div class="status-subtitle">Real-time protection active</div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="safety-level">1</div>
                    <div class="stat-label">Level</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value"><span id="safety-xp">0</span></div>
                    <div class="stat-label">XP Earned</div>
                    <div class="xp-bar-mini">
                        <div class="xp-fill" id="xp-bar-fill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="stat-card danger-card">
                    <div class="stat-value" id="blocked-count">0</div>
                    <div class="stat-label">Threats</div>
                </div>
            </div>

            <!-- COMMUNITY TRUST SECTION -->
            <div class="trust-card"
                style="margin: 15px 20px; background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <div
                    style="font-size: 12px; color: #6c757d; font-weight: 600; margin-bottom: 10px; display:flex; justify-content:space-between;">
                    <span id="trust-domain" style="text-transform:lowercase;">...</span>
                    <span id="trust-score-val" style="color: #0d6efd;">-</span>
                </div>
                <div class="vote-actions">
                    <button id="btn-vote-safe" class="btn-vote">
                        <span class="icon">üëç</span> Safe
                    </button>
                    <button id="btn-vote-unsafe" class="btn-vote">
                        <span class="icon">üëé</span> Unsafe
                    </button>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-panel">
                <div class="control-item">
                    <div class="control-info">
                        <div class="control-title">Link Previews</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-preview" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="control-item">
                    <div class="control-info">
                        <div class="control-title">Login Protection</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-login" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="control-item">
                    <div class="control-info">
                        <div class="control-title">Scan Downloads</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-downloads" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="control-item">
                    <div class="control-info">
                        <div class="control-title">Shadow Profile üß¨</div>
                        <div class="control-desc" style="font-size: 10px; color: #6c757d;">Anti-Fingerprinting</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-shadow">
                        <span class="slider"></span>
                    </label>
                </div>


                <div class="control-item fortress-item">
                    <div class="control-info">
                        <div class="control-title">Fortress Mode üõ°Ô∏è</div>
                        <div class="control-desc">Zero Trust Security</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-fortress">
                        <span class="slider fortress-slider"></span>
                    </label>
                </div>
            </div>

            <!-- Bottom Actions -->
            <div class="bottom-actions">
                <div class="history-control">
                    <label>History Limit</label>
                    <input type="number" id="history-limit" min="10" max="100" value="50">
                </div>

                <a href="dashboard.html" target="_blank" id="open-dashboard" class="btn-full btn-glass">
                    View Full Dashboard
                </a>

                <button id="btn-logout" class="btn-full btn-text-danger" style="display: none;">
                    Sign Out
                </button>
            </div>
        </div>

        <!-- VIEW: DOJO -->
        <div id="view-dojo" class="content-area" style="display: none;">
            <div class="dojo-card">
                <div class="dojo-header">
                    <h3>Spot the Phish!</h3>
                    <p id="dojo-scenario">Analyze the URL below...</p>
                </div>

                <div class="url-display">
                    <div class="browser-bar">
                        <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
                    </div>
                    <div class="url-text" id="dojo-url">http://example.com</div>
                </div>

                <div class="dojo-actions">
                    <button class="btn-dojo btn-safe" id="btn-safe">
                        <span class="icon">‚úÖ</span> Safe
                    </button>
                    <button class="btn-dojo btn-phish" id="btn-phish">
                        <span class="icon">üé£</span> Phish
                    </button>
                </div>

                <div id="dojo-feedback" class="feedback-msg" style="display: none;"></div>

                <button id="btn-next" class="btn-full btn-primary" style="margin-top: 15px; display: none;">
                    Next Challenge &rarr;
                </button>
            </div>
        </div>

    </div>

    <script src="js/auth.js"></script>
    <script src="js/threat_intel.js"></script>
    <script src="js/dojo.js"></script>
    <script src="js/popup.js"></script>
</body>

</html>